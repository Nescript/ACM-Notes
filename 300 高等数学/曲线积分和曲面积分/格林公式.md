我们主要研究三个问题：格林公式是什么，能做什么，什么时候用

格林公式将二重积分和第二类曲线积分联系起来，将问题从研究曲线变为研究曲线所围成的区域

首先给出核心计算式
$$
\iint_{D}( \frac{{\partial Q}}{\partial x}-\frac{\partial P}{\partial y})dxdy=\oint_{L}Pdx+Qdy
$$
这个就是**格林公式**

格林公式要求曲线围成的区域 $D$ 是闭区域（可能是有洞的复连通区域，可能是没洞的单连通区域），即 $L$ 为封闭的曲线，如果不是闭区域，则可以构造辅助线使得区域闭合

又由于第二类曲线积分有严格的方向要求，我们需要明确区域边界的方向。假设有一个人正沿着区域边界的正向行走，那么**区域 $D$ 总会在他的左手边**

例 4（引入辅助线）

![[Pasted image 20250528105903.png]]
前半部分利用格林公式可以很容易地计算
$$
\oint_{L+\vec{OA}}=\iint_{D}( \frac{{\partial Q}}{\partial x}-\frac{\partial P}{\partial y})dxdy
$$
其中
$$
\frac {{\partial Q}} {\partial x}=e^x\cos y
$$
$$
\frac{{\partial P}}{\partial y}=e^x\cos y-m
$$
故而
$$ 
\frac {{\partial Q}} {\partial x}-\frac{\partial P}{\partial y}=m
$$
$$
\oint_{L+\vec{OA}}=\iint_{D}mdxdy
$$
回顾二重积分的含义，只需求出 $D$ 的面积再乘上 $m$ 即得答案

接下来研究辅助线，我们通过第二类曲线积分的一般计算方法求解，在此为
$$
\int_{\vec{OA}}Pdx+Qdy
$$
而对 $\vec{OA}$，有
$$
\vec{OA}:\left\{\begin{aligned}
x &=x\\
y &=0
\end{aligned}\right.
$$
进而
$$
\int_{\vec{OA}}Pdx+Qdy=\int_{0}^{2a}Pdx
$$
即
$$
\int_{0}^{2a}[e^x\sin y-m(x+y)]dx=\int^{2a}_{0}(-mx)dx=\left[ -\frac{m}{2}x^2 \right]_{0}^{2a}=-2ma^2
$$ 综上有
$$
I=\frac{\pi ma^2}{2}+2ma^2
$$
上面这个例子就叫封口法，即本来曲线不闭合，那我就引入辅助线使之闭合，给他封上口

什么时候考虑使用格林公式？如例子所示，如果有 $\frac{{\partial Q}}{\partial x}-\frac{\partial P}{\partial y}$ 等于 $0$ 、等于一个常数或者比较简单，那么就可以使用格林公式

挖洞法之实质：挖掉没有一阶偏导数的部分（即奇点），把那一部分内容用一般方法进行计算

![[Pasted image 20250528114155.png]]
如例 5，如果简单地套用格林公式，会发现在原点处 $P$ 和 $D$ 是没有一阶偏导数的，不符合格林公式的使用条件。不过没关系，我们挖个洞把原点那部分去掉就好了

现在观察题目，我们发现并没有给出 $L$ 的方程，也不知道范围

但我们可以发现原点就是奇点，所以可以分为原点在 $L$ 所围成的区域 $D$ 内，与原点不在 $D$ 内两种情况

当原点不在 $D$ 内时，依格林公式
$$
		\frac{ \partial Q }{ \partial x } =\frac{ \partial P }{ \partial y } =\frac{y^2-x^2}{(x^2+y^2)^2}
$$
进而

$$
\oint_{L}\frac{xdy-ydx}{x^2+y^2}=0
$$
而原点在 $D$ 内时，我们就需要把原点这个奇点挖掉了，作位于 $D$ 内的圆周 $l:x^2+y^2=r^2$

![[Pasted image 20250528140752.png]]

可以发现，最后挖的洞通过第二类曲线积分的一般方法（代入法）进行了求解，即
$$
\int_{0}^{2\pi}[-\frac{r\sin\theta}{r^2\cos^2\theta+r^2\sin^2\theta}\cdot-r\sin\theta+\frac{r\cos \theta}{r^2\cos^2\theta+r^2\sin^2\theta}\cdot r\cos \theta]d\theta
$$
整理得
$$
\int_{0}^{2\pi}\frac{r^2\cos^2\theta+r^2\sin^2\theta}{r^2}d\theta=2\pi
$$
